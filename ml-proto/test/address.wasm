(module
    (import $print "stdio" "print" (param i32))
    (memory 1024 (segment 0 "ab"))
    (func $good
        (call_import $print (i32.load8_u+0 (i32.const 0)))
        (call_import $print (i32.load8_u+1 (i32.const 0)))
        (call_import $print (i32.load8_u (i32.add (i32.const -1) (i32.const 1))))
    )
    (func $bad
        (i32.load8_u+1 (i32.const -1))
    )
    (export "good" $good)
    (export "bad" $bad)
)

(invoke "good")
(assert_trap (invoke "bad") "runtime: out of bounds memory access")
